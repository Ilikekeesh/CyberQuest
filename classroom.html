<html>

<head>
    <title>Classroom</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="transition.css">


</head>

<body>
    <header>
        <nav>
            <div class="logo-top-left">
                <a href="home.html" class="navlink">
                    <img src="whitelogo.png" alt="CyberQuest Logo" class="logo"/>
                </a>
            </div>
            <ul>
                <li><a href="map.html" class="navlink">Map</a></li>
                <li><a href="#">Classroom</a></li>
                <li><a href="shop.html" class="navlink">Shop</a></li>
                <li><a href="login.html" class="navlink">Login</a></li>
                <li><a href="signup.html" class="navlink">Sign Up</a></li>
            </ul>
        </nav>
    </header>

    <div class="transition transition-1 is-active">
        <img src="cyberquestlogo2.png" alt="CyberQuest" id="loading"></div>
    </div>

        <!-- Level Complete Popup by CHATGPT -->
    <div id="level-popup" class="popup hidden">
        <div class="popup-content">
        <h2 id="level-completed">ðŸŽ‰ Level Completed!</h2>
        <p id="score-popup"><strong>Score:</strong> <span id="score-value">0</span></p>
        <p id="xp-popup"><strong>XP:</strong> <span id="xp-value">0</span></p>
        <p id="time-popup"><strong>Time:</strong> <span id="time-value">00:00</span></p>
        <button id="close-popup">Close</button>
        </div>
    </div>

    <aside>

        <p id="studentroom" style="display: none;">
            this is student room
        </p>
        
        <p id="teacherroom" style="display: none;">
            this is teacher room
        </p>

    </aside>
    <footer>
        <div style="margin-left: 2%;">Team Phishify</div>
    </footer>
    <br>
    <script src="transition.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
          if (localStorage.getItem('levelCompleted') != null) {
            // get stats from level they completed
            const score = localStorage.getItem('points');
            const xp = localStorage.getItem('xp') || 200;
            const time = localStorage.getItem('time') || "01:35";
      
            document.getElementById('time-value').textContent = time + " seconds";
            document.getElementById('score-value').textContent = score;
            document.getElementById('xp-value').textContent = xp;
            document.getElementById('level-completed').textContent = "ðŸŽ‰ Level " + localStorage.getItem('levelCompleted') + " Completed!";
      
            const popup = document.getElementById('level-popup');
            popup.classList.remove('hidden');
            popup.classList.add('visible');
            
            // Clear flag so it doesnâ€™t show again
            localStorage.removeItem('levelCompleted');
          }
      
          
          document.getElementById('close-popup').addEventListener('click', () => {
            const popup = document.getElementById('level-popup');
            popup.classList.remove('visible');
            popup.classList.add('fade-out');
            setTimeout(() => popup.remove(), 600);
          });
        });
        let isStudent = parseInt(localStorage.getItem('student'));
        if(isStudent == true){
            document.getElementById('studentroom').style.display = 'block';
        }else{
            document.getElementById('teacherroom').style.display = 'block';
        }
    </script>
</body>

</html>
